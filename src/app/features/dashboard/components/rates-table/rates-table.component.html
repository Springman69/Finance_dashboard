<section class="rates-table">
  <header class="rates-table__header">
    <h2>NBP Table A</h2>
    <span class="rates-table__count">{{ rates().length }} currencies</span>
  </header>

  <p *ngIf="error() as message" class="rates-table__status rates-table__status--error">
    {{ message }}
  </p>

  <p *ngIf="!error() && loading()" class="rates-table__status">Loading latest ratesâ€¦</p>

  <table *ngIf="!loading() && !error() && rates().length; else emptyState">
    <thead>
      <tr>
        <th scope="col">Currency</th>
        <th scope="col">Code</th>
        <th scope="col" class="rates-table__cell--numeric">Mid</th>
      </tr>
    </thead>
    <tbody>
      <tr
        *ngFor="let rate of rates(); trackBy: trackByCode"
        (click)="onRowClick(rate.code)"
        [class.rates-table__row--active]="rate.code === selectedCode()"
      >
        <td>{{ rate.currency }}</td>
        <td>{{ rate.code }}</td>
        <td class="rates-table__cell--numeric">{{ rate.mid | number: '1.3-3' }}</td>
      </tr>
    </tbody>
  </table>

  <ng-template #emptyState>
    <p class="rates-table__status">No rates to display.</p>
  </ng-template>
</section>
